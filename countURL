using System;
using System.IO;
using HtmlAgilityPack;

namespace URLCounter
{
    class Program
    {
        static void Main(string[] args)
        {
            // Replace "saved_html.html" with your actual file name
            string fileName = "saved_html.html";

            // Read the HTML content from the file
            string html = File.ReadAllText(fileName);

            // Parse the HTML using HtmlAgilityPack
            HtmlDocument doc = new HtmlDocument();
            doc.LoadHtml(html);

            // Find all anchor tags (links)
            HtmlNodeCollection links = doc.DocumentNode.SelectNodes("//a");

            // Create a new file to store the URLs
            string outputFileName = "urls.txt";
            using (StreamWriter writer = new StreamWriter(outputFileName))
            {
                // Write each URL to the file
                foreach (HtmlNode link in links)
                {
                    string href = link.Attributes["href"].Value;
                    writer.WriteLine(href);
                }
            }

            Console.WriteLine($"URLs listed to {outputFileName}");
        }
    }
}
